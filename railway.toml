# railway.toml

# Serviço VShop.Web
[services.vshopweb.build]
builder = "dockerfile"
dockerfilePath = "./Frontend/VShop.Web/Dockerfile"

[services.vshopweb.deploy]
startCommand = "./VShop.Web"
restartPolicyType = "always"
healthcheckPath = "./Frontend/VShop.Web//health"

# Serviço VShop.IdentityServer
[services.identityserver.build]
builder = "dockerfile"
dockerfilePath = "./Backend/VShop.IdentityServer/Dockerfile"

[services.identityserver.deploy]
startCommand = "./VShop.IdentityServer"
restartPolicyType = "always"
healthcheckPath = "./Backend/VShop.IdentityServer//health"

# Serviço VShop.DiscountApi
[services.discountapi.build]
builder = "dockerfile"
dockerfilePath = "./Backend/VShop.DiscountApi/Dockerfile"

[services.discountapi.deploy]
startCommand = "./VShop.DiscountApi"
restartPolicyType = "always"
healthcheckPath = "./Backend/VShop.DiscountApi//health"

# Serviço VShop.CartApi
[services.cartapi.build]
builder = "dockerfile"
dockerfilePath = "./Backend/VShop.CartApi/Dockerfile"

[services.cartapi.deploy]
startCommand = "./VShop.CartApi"
restartPolicyType = "always"
healthcheckPath = "./Backend/VShop.CartApi//health"

# Serviço VShop.Products
[services.products.build]
builder = "dockerfile"
dockerfilePath = "./Backend/VShop.Products/Dockerfile"

[services.products.deploy]
startCommand = "./VShop.Products"
restartPolicyType = "always"
healthcheckPath = "./Backend/VShop.Products//health"
